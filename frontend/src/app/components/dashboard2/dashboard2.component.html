<div class="dashboard-container">
  
    <!-- KPIs -->
    <div class="stats">
        <div class="stat-card">
          <h3>ğŸ“Œ Projets</h3>
          <p *ngIf="totalProjects !== null && totalProjects !== undefined; else loading"> {{ totalProjects }} </p>
        </div>
        <div class="stat-card">
          <h3>âœ… TÃ¢ches</h3>
          <p *ngIf="totalTasks !== null && totalTasks !== undefined; else loading"> {{ totalTasks }} </p>
        </div>
        <div class="stat-card">
          <h3>ğŸ‘¥ Collaborateurs</h3>
          <p *ngIf="totalCollaborators !== null && totalCollaborators !== undefined; else loading"> {{ totalCollaborators }} </p>
        </div>
      </div>
      
      <ng-template #loading>
        <p>Chargement...</p>
      </ng-template>

<!-- SECTION DES GRAPHIQUES -->
<div class="charts-section">

    <!-- Graphique RÃ©partition des TÃ¢ches -->
    <div class="chart-container" *ngIf="taskStatusData.length > 0; else noData">
      <h3>ğŸ“Œ RÃ©partition des tÃ¢ches</h3>
      <ngx-charts-pie-chart 
        [results]="taskStatusData"
        [view]="[400, 300]"
        [labels]="true"
        [doughnut]="false"
        [animations]="true">
      </ngx-charts-pie-chart>
    </div>
  
    <ng-template #noData>
      <p>Pas de donnÃ©es disponibles pour la rÃ©partition des tÃ¢ches.</p>
    </ng-template>
  </div>
  
    <!-- Temps moyen de complÃ©tion -->
    <div class="completion-time">
      <h3>â³ Temps moyen de complÃ©tion</h3>
      <p>{{ avgCompletionTime }}</p>
    </div>
  </div>
  