<div class="dashboard-container">
  
    <!-- KPIs -->
    <div class="stats">
        <div class="stat-card" (click)="navigateTo('/project')">
          <h3>📌 Projects</h3>
          <p *ngIf="totalProjects !== null && totalProjects !== undefined; else loading"> {{ totalProjects }} </p>
        </div>
        <div class="stat-card" (click)="navigateTo('/tasks')">
          <h3>✅ Tasks</h3>
          <p *ngIf="totalTasks !== null && totalTasks !== undefined; else loading"> {{ totalTasks }} </p>
        </div>
        <div class="stat-card"  (click)="navigateTo('/project')">
          <h3>👥 Collaborators</h3>
          <p *ngIf="totalCollaborators !== null && totalCollaborators !== undefined; else loading"> {{ totalCollaborators }} </p>
        </div>
      </div>
      
      <ng-template #loading>
        <p>Loading...</p>
      </ng-template>

<!-- CHARTS SECTION -->
<div class="charts-section">

    <!-- Task Distribution Chart -->
    <div class="chart-container" *ngIf="taskStatusData.length > 0; else noData">
      <h3>📌 Task Distribution</h3>
      <ngx-charts-pie-chart 
        [results]="taskStatusData"
        [view]="[400, 300]"
        [labels]="true"
        [doughnut]="false"
        [animations]="true">
      </ngx-charts-pie-chart>
    </div>
  
    <ng-template #noData>
      <p>No data available for task distribution.</p>
    </ng-template>
  </div>
  
    <!-- Average Completion Time -->
    <div class="completion-time">
      <h3>⏳ Average Completion Time</h3>
      <p>{{ avgCompletionTime }}</p>
    </div>
  </div>
